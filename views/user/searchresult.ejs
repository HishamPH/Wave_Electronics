<%- include('../essentials/userHeader') %>


<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />

<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

<link href="https://cdn.jsdelivr.net/npm/mdb-ui-kit@8.0.0/css/mdb.min.css" rel="stylesheet" />

    
</head>

<body>
    
  <header id="header" class="header fixed-top d-flex align-items-center bg-black " style="height: 125px;">

      <div class="d-flex align-items-center justify-content-between">
        <div class="col-lg-4  d-flex align-items-center">
          <a href="/user/homepage" class="text-decoration-none">
            <span class="h1 text-uppercase text-warning bg-dark px-2">WAVE</span>
            <span class="h1 text-uppercase text-dark bg-warning px-2 ml-n1">ELECTRONICS</span>
          </a>
          
        </div>
        
      </div><!-- End Logo -->
  
      <div class="search-bar">
        <form class="search-form d-flex align-items-center filter">
          <input type="search" name="name" placeholder="Search" title="Enter search keyword" id="searchInput" >
          <button type="submit" title="Search"><i class="bi bi-search"></i></button>
        </form>
      </div><!-- End Search Bar -->
  
      <nav class="header-nav ms-auto">
        <ul class="d-flex align-items-center">
  
          <li class="nav-item d-block d-lg-none">
            <a class="nav-link nav-icon search-bar-toggle " href="#">
              <i class="bi bi-search"></i>
            </a>
          </li><!-- End Search Icon-->
          
          <li class="nav-item dropdown mx-3">
              <div class="d-flex align-items-center gap-2 text-dark">
                <!-- <h6 class="text text-dark">cart</h6> -->
                <a href="/user/cart">
                <div class="nav-link nav-icon">
                
                  <i class="bi bi-cart fs-3 text-white "></i>
                  
                    <span class="badge bg-danger badge-number fs-7 rounded-circle" id="cartCount">
                    
                      <%= q  %>
                      
                    </span>
                  
                </div>
                </a>
                <a href="/user/wishlist">
                  <div class="nav-link nav-icon">
                    <i class="bi bi-heart fs-3 text-white "></i>
                    <span class="badge bg-danger badge-number fs-7 rounded-circle" id="wishCount">
                    
                      <%= wishlist.length  %>
                      
                    </span>
                  </div>
                </a>
              </div>
          </li>
          <!-- End Notification Nav -->
          <li class="nav-item dropdown pe-3">
  
            <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
              <img src="/img/user.png" alt="Profile" class="rounded-circle">
              <span class="d-none d-md-block dropdown-toggle ps-2"></span>
            </a><!-- End Profile Iamge Icon -->
  
            <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
              <li class="dropdown-header">
                <h6><%= locals.name %></h6>
                <span>Web Designer</span>
              </li>
          
  
              <li>
                <a class="dropdown-item d-flex align-items-center" href="/user/userprofile/address">
                  <i class="bi bi-person"></i>
                  <span>My Profile</span>
                </a>
              </li>
              <li >
                <a class="dropdown-item d-flex align-items-center" href="/user/logout">
                  <i class="bi bi-box-arrow-right text-danger"></i>
                  <span class="text-danger">Sign Out</span>
                </a>
              </li>
  
            </ul><!-- End Profile Dropdown Items -->
          </li><!-- End Profile Nav -->
  
        </ul>
      </nav><!-- End Icons Navigation -->
  
  </header>

    <!-- Navbar Start -->
   
    <!-- Navbar End -->

 


    <!-- Featured Start -->
  <div class="container mt-5 position-relative " style="top: 120px;">
    
    <div class="row">
      <div class="col-xl-3 col-lg-4 col-md-6 ">
        
      </div>

    </div>
  </div>
    
    <!-- Featured End -->
  <div class=" mx-2   mt-5 position-relative row" style="top: 50px;">
    <div class="container my-4">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <!-- Search input with icon -->
          <div class="input-group input-group-lg">
            <input type="search" class="form-control" placeholder="Search" aria-label="Search"
              aria-describedby="search-addon" />
            <span class="input-group-text border-0" id="search-addon">
              <i class="fas fa-search"></i>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="col-2  ">
      <div class="card rounded-0 h-100 ">
        <div class="ms-3 mt-2  fs-5 fw-bolder"> 
          Filters
        </div>
        <hr>
        <div >
          <div class="fw-bold ms-3 mb-2 ">Categories</div>
          
          <form id="filter" class="filter">
            <% cat.forEach((item,index)=>{ %>
            <div class="mb-1 ms-4 form-group">
              <input id="c1" type="checkbox" name="<%= item._id %>" value="<%= index+1 %>">
              <label for="c1"><%= item.Name%></label>
            </div>
            <% }); %>
          </form>
          <hr>
          <form id="sort" class="filter">
            <div class="fw-bold ms-3 ">Price</div>
            <div class="d-flex flex-column ms-4 gap-2 mt-2 ">
              <label>
                <input type="radio" name="order" value="lth" checked="checked"> Low to High
              </label>
              <label>
                <input type="radio" name="order" value="htl"> High to Low
              </label>
            </div>
      
            <div class="fw-bold ms-3 ">Order</div>
            <div class="d-flex flex-column ms-4 gap-2 mt-2 ">
              <label>
                <input type="radio" name="order" value="az"> A to Z
              </label>
              <label>
                <input type="radio" name="order" value="za"> Z to A
              </label>
            </div>
          </form>
            
          
        </div>
      </div>
    </div>
    <div class="col-10 ">
      <div class="row" id="searchResult">
      <% if(product){ %>
        <% product.forEach((row,index)=>{%>
          <div class="col-xl-3 col-lg-4 col-md-6 ">
            <div class="card rounded-0 position-relative">
              <% if (row.offer) { %>
                <span class="badge position-absolute p-2 bg-danger w-auto rounded-0" style="top: 15px; right: 15px;">
                  - <%= row.offer.percentage %>%
                </span>
              <% } %>
              <img src="/images/<%= row.images[0]  %>" class="card-img-top card-img-auto" alt="Product Image"
                style="object-fit: cover;">
              <div class="card-body bg-gray">
                  <a href="/user/detail/<%= row._id %>">
                    <div class="card-title m-0 text-truncate fw-bold">
                      <%= row.ProductName %>
                    </div>
                    <p class="card-text fw-bold text-dark mb-2">â‚¹<%= row.Price.toLocaleString('hi') %>
                    </p>
                    <p class="card-text text-black truncate-text" style="height: 48px;">
                      <%= row.spec1 %>
                    </p>
                  </a>
                  <div class="d-flex justify-content-between align-items-center mt-3">
                    <button data-path="<%= row._id %>" class="btn btn-dark rounded-pill py-3 addtocart" data-mdb-ripple-init>Add to
                      cart
                    </button>

                    <button data-path="<%= row._id %>" class="btn d-flex justify-content-center align-items-center rounded-circle wishlist shadow-sm" style="height: 50px; width: 50px;background-color: #dadada;">
                      <img src="/img/heart<%= wishlist.includes(row._id.toString()) ? '':'-white'  %>.png" style="width: 30px; height: 30px;" alt="heart">
                    </button>  
                  </div>
              </div>
            </div>
          </div>
        <%});%>
      <% }else{ %>
        <div class="d-flex justify-content-center align-items-center ">
          <div>
            No items found
          </div> 
        </div>
      <% } %>  
      </div>
        <!-- Pagination controls -->
      <form id="pagination">
        <nav aria-label="Product Pagination">
          <ul class="pagination justify-content-center">
            <% for (let i = 1; i <= totalPages; i++) { %>
              <li class="page-item " >
                <button class="page-link <%= currentPage === i ? 'active' : '' %>" name="page"><%= i %>
                </button>
              </li>
            <% } %>  
          </ul>
        </nav>
      </form>
    </div>
  </div>

  <!-- <nav aria-label="Page navigation example">
    <ul class="pagination">
      <li class="page-item"><a class="page-link" href="#">Previous</a></li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item"><a class="page-link" href="#">Next</a></li>
    </ul>
  </nav> -->
    
    <!-- Footer Start -->
  <div class="container-fluid bg-dark text-secondary mt-5 pt-5 position-relative " style="top: 100px;">
    <div class="row px-xl-5 pt-5">
      <div class="col-lg-4 col-md-12 mb-5 pr-3 pr-xl-5">
        <h5 class="text-secondary text-uppercase mb-4">Get In Touch</h5>
        <p class="mb-4">No dolore ipsum accusam no lorem. Invidunt sed clita kasd clita et et dolor sed dolor. Rebum tempor no vero est magna amet no</p>
        <p class="mb-2"><i class="fa fa-map-marker-alt text-primary mr-3"></i>123 Street, New York, USA</p>
        <p class="mb-2"><i class="fa fa-envelope text-primary mr-3"></i>info@example.com</p>
        <p class="mb-0"><i class="fa fa-phone-alt text-primary mr-3"></i>+012 345 67890</p>
      </div>
      <div class="col-lg-8 col-md-12">
        <div class="row">
          <div class="col-md-4 mb-5">
            <h5 class="text-secondary text-uppercase mb-4">Quick Shop</h5>
            <div class="d-flex flex-column justify-content-start">
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Home</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Shop Detail</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Checkout</a>
              <a class="text-secondary" href="#"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
            </div>
          </div>
          <div class="col-md-4 mb-5">
            <h5 class="text-secondary text-uppercase mb-4">My Account</h5>
            <div class="d-flex flex-column justify-content-start">
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Home</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Shop Detail</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
              <a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Checkout</a>
              <a class="text-secondary" href="#"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
            </div>
          </div>
          <div class="col-md-4 mb-5">
            <h5 class="text-secondary text-uppercase mb-4">Newsletter</h5>
            <p>Duo stet tempor ipsum sit amet magna ipsum tempor est</p>
            <form action="">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Your Email Address">
                <div class="input-group-append">
                  <button class="btn btn-primary">Sign Up</button>
                </div>
              </div>
            </form>
            <h6 class="text-secondary text-uppercase mt-4 mb-3">Follow Us</h6>
            <div class="d-flex">
              <a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
              <a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
              <a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
              <a class="btn btn-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row border-top mx-xl-5 py-4" style="border-color: rgba(256, 256, 256, .1) !important;">
      <div class="col-md-6 px-xl-0">
        <p class="mb-md-0 text-center text-md-left text-secondary">
            &copy; <a class="text-primary" href="#">Domain</a>. All Rights Reserved.
        </p>
      </div>
    </div>
  </div>
    <!-- Footer End -->
   

    <!-- Back to Top -->
  <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>

   
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

  <!-- Template Javascript -->
  <script type="module" src="/js/cartCount.js" defer></script>
  <script src="/js/pagination.js" defer></script>


  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mdb-ui-kit@8.0.0/js/mdb.umd.min.js"></script>


<%- include('../essentials/userFooter') %>