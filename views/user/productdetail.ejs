<%- include('../essentials/userHeader') %>


    <script src="https://cdn.jsdelivr.net/npm/js-image-zoom/js-image-zoom.min.js"></script>
    
    
</head>

<body>

<%- include('../essentials/loader') %>
    
    <!-- Topbar Start -->
    <header id="header" class="header fixed-top d-flex align-items-center bg-black " style="height: 90px;">

        <div class="d-flex align-items-center justify-content-between">
          <div class="col-lg-4  d-flex align-items-center">
            <a href="<%= isUser ? "/user/homepage" :"/"  %>" class="text-decoration-none">
              <span class="h2 text-uppercase text-warning bg-dark px-2">WAVE</span>
              <span class="h2 text-uppercase text-dark bg-warning px-2 ml-n1">ELECTRONICS</span>
            </a>
            
          </div>
          
        </div><!-- End Logo -->
    
        <nav class="header-nav ms-auto">
          <ul class="d-flex align-items-center">
    
            <li class="nav-item d-block d-lg-none">
              <a class="nav-link nav-icon search-bar-toggle " href="/user/search">
                <i class="bi bi-search"></i>
              </a>
            </li><!-- End Search Icon-->

            <% if(isUser){ %>
                <li class="nav-item dropdown mx-3">
                <div class="d-flex align-items-center gap-2 text-dark">
                <!-- <h6 class="text text-dark">cart</h6> -->
                <a href="/user/cart">
                    <div class="nav-link nav-icon">
                        <i class="bi bi-cart fs-3 text-white "></i>
                        <span class="badge bg-danger badge-number fs-7 rounded-circle fw-bold " id="cartCount">
                            <%= cartCount %>
                        </span>
                    </div>
                </a>
                <a href="/user/wishlist">
                    <div class="nav-link nav-icon">
                        <i class="bi bi-heart fs-3 text-white"></i>
                        <span class="badge bg-danger badge-number fs-7 rounded-circle" id="wishCount">

                            <%= wishList %>

                        </span>
                    </div>
                </a>
                </div>
                </li>
                <!-- End Notification Nav -->
                <li class="nav-item dropdown pe-3">

                <button class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
                <img src="/img/user.png" alt="Profile" class="rounded-circle">
                <span class="d-none d-md-block dropdown-toggle ps-2 text-white "></span>

                </button><!-- End Profile Iamge Icon -->

                <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
                <li class="dropdown-header">
                    <h6>
                        <%= name %>
                    </h6>
                    <span>Web Designer</span>
                </li>


                <li>
                    <a class="dropdown-item d-flex align-items-center" href="/user/userprofile/address">
                        <i class="bi bi-person"></i>
                        <span>My Profile</span>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item d-flex align-items-center" href="/user/logout">
                        <i class="bi bi-box-arrow-right text-danger"></i>
                        <span class="text-danger">Sign Out</span>
                    </a>
                </li>

                </ul><!-- End Profile Dropdown Items -->
                </li><!-- End Profile Nav -->
            <% }else{ %>
                <div>Hello</div>
            <% } %>
    
          </ul>
        </nav><!-- End Icons Navigation -->
    
    </header>
    <!-- Topbar End -->


    <!-- Navbar Start -->
  
    <!-- Navbar End -->
      <!-- Shop Detail Start -->
      <div class="container-fluid p-5 position-relative bg-light " style="top:70px;">
        <div class="row px-xl-5 d-flex justify-content-start ">

            



            <div class="col-lg-5 mb-30 ">
                <div id="carouselExampleIndicators" class="carousel slide" data-mdb-ride="carousel" data-mdb-carousel-init>
                    <!-- <div class="carousel-indicators">
                        <button type="button" data-mdb-target="#carouselExampleIndicators" data-mdb-slide-to="0" class="active"
                            aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-mdb-target="#carouselExampleIndicators" data-mdb-slide-to="1"
                            aria-label="Slide 2"></button>
                        <button type="button" data-mdb-target="#carouselExampleIndicators" data-mdb-slide-to="2"
                            aria-label="Slide 3"></button>
                    </div> -->
                    <div class="carousel-inner" id="product-images">
                        <div class="carousel-item active">
                            <img id="image-1" src="/images/<%= defaultVariant.images[0]  %>" class="d-block w-100" alt="Wild Landscape" />
                        </div>
                        <div class="carousel-item">
                            <img id="image-2" src="/images/<%= defaultVariant.images[1]  %>" class="d-block w-100" alt="Camera" />
                        </div>
                        <div class="carousel-item">
                            <img id="image-3" src="/images/<%= defaultVariant.images[2]  %>" class="d-block w-100" alt="Exotic Fruits" />
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-mdb-target="#carouselExampleIndicators"
                        data-mdb-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-mdb-target="#carouselExampleIndicators"
                        data-mdb-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
                <div id="yourcar" style="position: relative;top:-500px;">

                </div>
            </div>

            <div class="col-lg-7 h-auto mb-30 shadow-sm bg-white">
                <div class="h-100 bg-white p-3">
                    <h3 id="product-name">
                    <%=pd.productName%>
                    </h3>
                    <div class="d-flex mb-2">
                        <div class="text-warning mr-2">
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star"></small>
                            <small class="fas fa-star-half-alt"></small>
                            <small class="far fa-star"></small>
                        </div>
                        <small class="pt-1">(99 Reviews)</small>
                    </div>
                    <div class="d-flex">
                        <div id="discount-price" class="fw-bold me-1 text-black h3 mb-0">₹<%= pd.defaultPrice.toLocaleString('hi') %>
                        </div>
                        <h4 class="fs-6 text-decoration-line-through text-muted d-flex align-items-end">
                            <div id="full-price" class="">
                                ₹<%= pd.basePrice.toLocaleString('hi') %>
                            </div>
                        </h4>
                    </div>
            
                    <p class="h6 mt-1">
                        Available offers
                    </p>
                    <p class="text-success my-0" style="font-size: 15px;"><i class="fa fa-tag"></i><%= pd.discount %>% off on this prouduct</p>
                    <% if(pd.offer){ %>
                        <p class="text-success my-0" style="font-size: 15px;"><i class="fa fa-tag"></i><%= pd.offer.percentage %>% off on all <%= pd.category.categoryName  %></p>
                    <% } %>
                    <p id="stock-status" class="my-4 badge fs-6 <%= defaultVariant.stock > 0 ? "badge-success":"badge-danger"  %>"><%= defaultVariant.stock > 0 ? "In stock":"Out of stock" %> </p>
            
            
                    <div class="d-flex mb-4">
                        <strong class="text-dark mr-3">Colors:</strong>
                        <div class="btn-group shadow-none" role="group" aria-label="Color selection" id="color-group">
                            <!-- color variants go here -->
                        </div>
                    </div>
            
                    <div class="d-flex mb-4">
                        <strong class="text-dark mr-3">Storage  :</strong>
                        <div class="btn-group shadow-none" role="group" aria-label="Storage selection" id="storage-group">
                            <!-- storages go here -->
                        </div>
                    </div>

                    <div class="d-flex align-items-center mb-2 pt-2">
                        <% if(isUser) { %>
                            <button data-path="<%= pd._id %>" class="btn btn-primary px-3 rounded-pill addtocart">
                                <i class="fa fa-shopping-cart mr-1"></i> Add To cart
                            </button>
                            <% } else { %>
                                <a href="/user/login">
                                    <button class="btn btn-primary px-3 rounded-pill">
                                        <i class="fa fa-shopping-cart mr-1"></i> Add To cart
                                    </button>
                                </a>
                                <% } %>
                    </div>

                    <div class="d-flex pt-2">
                        <strong class="text-dark mr-2">Share on:</strong>
                        <div class="d-inline-flex">
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a class="text-dark px-2" href="">
                                <i class="fab fa-pinterest"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row px-xl-5 mt-4">
            <div class="col">
                <div class="bg-muted p-30 shadow-sm">
                    <div class="nav nav-tabs mb-4">
                        <button class="nav-item nav-link text-dark active" data-mdb-toggle="tab" href="#tab-pane-1" data-mdb-tab-init>Description</button>
                        <button class="nav-item nav-link text-dark" data-mdb-toggle="tab" href="#tab-pane-2" data-mdb-tab-init>Information</button>
                        <button class="nav-item nav-link text-dark" data-mdb-toggle="tab" href="#tab-pane-3" data-mdb-tab-init>Reviews (0)</button>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane fade show active px-5 py-3" id="tab-pane-1">
                            <h4 class="mb-3">Product Description</h4>
                            <p><%= pd.description %></p>
                        </div>
                        <div class="tab-pane fade px-5 py-3" id="tab-pane-2">
                            <h4 class="mb-3">Additional Information</h4>
                            <p></p>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item px-0">
                                          specification 1
                                        </li>
                                        <li class="list-group-item px-0">
                                        specification 2
                                        </li>
                                    <li class="list-group-item px-0">
                                        specification 3
                                    </li>
                                      </ul> 
                                </div>
                                <div class="col-md-6">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item px-0">
                                            <%= pd.spec1 %>
                                        </li>
                                        <li class="list-group-item px-0">
                                            <%= pd.spec2 %>
                                        </li>
                                    <li class="list-group-item px-0">
                                        <%= pd.spec3 %>
                                    </li>
                                      </ul> 
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade px-5 py-3" id="tab-pane-3">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="mb-4">1 review for "Product Name"</h4>
                                    <div class="media mb-4">
                                        <img src="/img/user.png" alt="Image" class="img-fluid mr-3 mt-1" style="width: 45px;">
                                        <div class="media-body">
                                            <h6>John Doe<small> - <i>01 Jan 2045</i></small></h6>
                                            <div class="text-primary mb-2">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star-half-alt"></i>
                                                <i class="far fa-star"></i>
                                            </div>
                                            <p>Diam amet duo labore stet elitr ea clita ipsum, tempor labore accusam ipsum et no at. Kasd diam tempor rebum magna dolores sed sed eirmod ipsum.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="mb-4">Leave a review</h4>
                                    <small>Your email address will not be published. Required fields are marked *</small>
                                    <div class="d-flex my-3">
                                        <p class="mb-0 mr-2">Your Rating * :</p>
                                        <div class="text-primary">
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </div>
                                    </div>
                                    <form  action="/user/review/<%= pd._id %>" method="post">
                                        <div class="form-group">
                                            <label for="message">Your Review *</label>
                                            <textarea id="message" name="review" cols="30" rows="5" class="form-control"></textarea>
                                        </div>
                                        
                                        <div class="form-group mb-0">
                                            <input type="submit" value="Leave Your Review" class="btn btn-primary px-3">
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Shop Detail End -->
    
    <div id="initial-data" data-variant='<%= JSON.stringify(defaultVariant) %>' data-color='<%= JSON.stringify(color) %>' data-storage='<%= JSON.stringify(storage) %>' data-product-id="<%= pd._id %>">
    </div>



<%- include('../essentials/footer') %>
    

    <!-- Back to Top -->
    <button href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></button>

   

    <script src="https://cdn.jsdelivr.net/npm/js-image-zoom/js-image-zoom.min.js"></script>
    <!-- Template Javascript -->

    <!-- <script type="module" src="/js/cartCount.js" defer></script> -->
    

    <script type="module" defer>

        
        var options1 = {
            width:100,
            zoomWidth:30,
            offset: {vertical: 0, horizontal: 10},
            zoomContainer:document.getElementById('yourcar'),
            
        };
        let images = document.querySelectorAll('.carousel-item');
        images.forEach((item)=>{
            new ImageZoom(item,options1)
        })
        // new ImageZoom(document.querySelector(".carousel-item"), options1);
        // new ImageZoom(document.getElementById("zoom2"), options1);
        // new ImageZoom(document.getElementById("zoom3"), options1);
    </script>
    <script type="module" src="/js/productDetail.js" defer></script>

<%- include('../essentials/userFooter') %>